---
layout: base
---

<script type="text/javascript">
questiontypes={"senseToWord":"Which lexeme has the same or similar sense?","wordToSense":"Which sense is associated with this lexeme?","formToWord":"This form belongs to one or many Lexemes. Which one's?","wordToTimePeriod":"In which time period did this Lexeme NOT occur?"}
qresultcache={}
senses={}
timeperiod={}
function initQuiz(){
initquery=`
SELECT ?lexeme ?lexemeLabel ?senses ?sensesLabel ?lexical_category ?lexical_categoryLabel ?random WITH {
	  SELECT ?lexeme (GROUP_CONCAT(DISTINCT ?lexemeLab; SEPARATOR = " // ") AS ?lexemeLabel) (GROUP_CONCAT(DISTINCT ?sensee; SEPARATOR = " // ") AS ?senses) (GROUP_CONCAT(DISTINCT ?senselabel; SEPARATOR = " // ") AS ?sensesLabel) ?lexical_category ?lexical_categoryLabel WHERE {
	  {
	  ?lexeme dct:language wd:${ q } ;
        rdf:type ontolex:LexicalEntry;
		ontolex:sense ?senseitem ;
		wikibase:lemma ?lexemeLab ;
		wikibase:lexicalCategory ?lexical_category.
	  ?lexical_category rdfs:label ?lexical_categoryLabel.
	  FILTER(LANG(?lexical_categoryLabel) = "en")}
		#OPTIONAL {
		  ?senseitem wdt:P5137|wdt:P9970 ?sensee.
		  ?sensee rdfs:label ?senseLab.
		  FILTER(LANG(?senseLab)="en")
		  BIND(COALESCE(REPLACE(STR(?sensee), "http://www.wikidata.org/entity/", ""), "") AS ?sensse)
		  BIND(COALESCE(REPLACE(STR(?senseitem), "http://www.wikidata.org/entity/", ""), "") AS ?sensel)
		#}
			?senseitem skos:definition ?gloss.
			FILTER(LANG(?gloss)="en")
		BIND(CONCAT(?gloss, COALESCE(CONCAT(" [", ?senseLab, " (", ?sensse, ")", "]"),"")) AS ?senselabel)
	}GROUP BY ?lexeme ?lexical_category ?lexical_categoryLabel}AS %i WHERE {
		INCLUDE %i
	 BIND(SHA512(CONCAT(STR(RAND()), STR(?lexemeLabel))) AS ?random) .
	 
	} ORDER BY ?random
LIMIT 50
	`
    var post_url = "https://query.wikidata.org/sparql";
    var post_data = "query=" + encodeURIComponent(initquery) + '&format=json'
    $.post(post_url, post_data).done(function(response) {
		res=sparqlDataToSimpleData(response)
		console.log(res)
		qresultcache=res
		$('#status').html("Quiz has been loaded!")
		selectQuestion();
	});
}


function selectQuestion(){
	console.log(res["data"][0])
}

function checkResult(){

}


 $(document).ready(function() {
     initQuiz()
 });

</script>

<h1>Lexemes for ${ qLabel } (${ q })</h1>

  <a title="Back"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="../language?q=${ l }&qLabel=${ lLabel }">←</a>
  <a title="View and edit item in Wikidata"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://www.wikidata.org/wiki/${ q }${ p }">Wikidata ↗</a>
  <a title="View item in Reasonator"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://reasonator.toolforge.org/?&q=${ q }${ p }">Reasonator ↗</a>
  <a title="View item as a Scholia topic"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://scholia.toolforge.org/topic/${ q }${ p }">Scholia ↗</a>

<hr/>
<p id="status">
</p>

<p id="question">
</p>

<p id="answers">
</p>


<div class="lexical-categories">
	<div id="progressbar"><span class="progress-label" id="progress-label">Loading...</span></div>
    <table class="table table-hover" id="lexical-categories"></table>

</div>

