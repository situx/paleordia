---
layout: base
---

<script type="text/javascript">
lexemesSparql =`
  SELECT DISTINCT ?character ?characterLabel ?refnumber (GROUP_CONCAT(distinct ?image; separator=" ") AS ?char_image) WHERE {
    ?character wdt:P31 wd:Q23017336 .
	?character p:P1343 ?lex .
	OPTIONAL{
		?character wdt:P9382 ?unicodename .
		?character wdt:P4213 ?unicodepoint .
		BIND(CONCAT(?characterLab," ",?unicodename," (U+",?unicodepoint,")") AS ?characterLabel)
	}
    ?lex ps:P1343 wd:${ q } .
    OPTIONAL{?lex pq:P1810 ?refnum .}
	OPTIONAL{?lex pq:P304 ?refpage .}
	?character rdfs:label ?characterLab .

    OPTIONAL {
	?depiction wdt:P180 ?character .
    ?depiction wdt:P18 ?image .
	}
	BIND(COALESCE(?refnum, "") As ?thenum)
	BIND(COALESCE(CONCAT(" [p. ",?refpage,"]"), "") As ?thepage)
	BIND(CONCAT(?referenceL,"###",?thenum,?thepage) AS ?refnumber)
    FILTER NOT EXISTS {?character wdt:P31 wd:Q118867680 .}
    FILTER (LANG(?characterLab) = 'en')
  }
  GROUP BY ?character ?characterLabel ?refnumber
  ORDER BY ?refnumber
`


 $(document).ready(function() {
     sparqlToDataTable(lexemesSparql, "#lexemes", {
	 'linkPrefixes': {
		'character': '../c'
	 },
	 linkParams: {
		form: '&qb='+q
	 }
	 });
 });

</script>

<div class="language-entries">
  <h1>Characters by reference: ${ qLabel } (${ q })</h1>

  <a title="Back"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="../script?q=${ qb }">←</a>
  <a title="View and edit item in Wikidata"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://www.wikidata.org/wiki/${ q }">Wikidata ↗</a>
  <a title="View item in Reasonator"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://reasonator.toolforge.org/?&q=${ q }">Reasonator ↗</a>
  <a title="View item as a Scholia topic"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://scholia.toolforge.org/topic/${ q }">Scholia ↗</a>


  <h2>Characters referenced by this resource</h2>

  <table class="table table-hover" id="lexemes"></table>
  

</div>




