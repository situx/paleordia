---
layout: base
---

<script type="text/javascript">
lexemesSparql =`
SELECT DISTINCT ?character (GROUP_CONCAT(DISTINCT ?characterlabel; separator=" // ") AS ?characterLabel) 
(GROUP_CONCAT(DISTINCT ?dictt; separator=" / ") as ?dictionary) 
(GROUP_CONCAT(DISTINCT ?dictLabell; separator=" / ") as ?dictionaryLabel) 
(COUNT(DISTINCT ?dictt) as ?count) WHERE {
  ?charclass wdt:P361 wd:${ q } .
  ?character wdt:P31 ?charclass ; wdt:P1343 ?dictt; rdfs:label ?characterlabel .
  ?dictt rdfs:label ?dictLabell .
  FILTER(lang(?dictLabell)="en")
  FILTER(lang(?characterlabel)="en")
}
GROUP BY ?character
ORDER BY ?characterlabel
`

 $(document).ready(function() {  
 	sparqlToDataTable(lexemesSparql, "#lexemes", {
	 'linkPrefixes': {
		'character': '../c'
	 },
	 linkParams: {
		form: '&qb='+q
	 },
	 pBar:"progressbar",
	 pBarLabel:"progress-label"
	 }); 
 });

</script>

<div class="language-entries">
  <h1>Character Reference Index for script: ${ qLabel } (${ q })</h1>

  <a title="Back"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="../script?q=${ q }&qLabel=${ qLabel }">←</a>
  <a title="View and edit item in Wikidata"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://www.wikidata.org/wiki/${ q }${ p }">Wikidata ↗</a>
  <a title="View item in Reasonator"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://reasonator.toolforge.org/?&q=${ q }${ p }">Reasonator ↗</a>
  <a title="View item as a Scholia topic"
     role="button"
     class="btn btn-outline-dark btn-sm"
     href="https://scholia.toolforge.org/topic/${ q }${ p }">Scholia ↗</a>


  <h2>Characters with references and reference counts</h2>
  <div id="progressbar"><span class="progress-label" id="progress-label">Loading...</span></div>
  <table class="table table-hover" id="lexemes"></table>
  <div class="embed-responsive embed-responsive-4by3"> 
  <iframe loading="lazy" id="wikidataembed" allow="fullscreen" class="embed-responsive-item" src="https://query.wikidata.org/embed.html#%23%20Show%20compound%20and%20derivation%20hierarchy%0A%23defaultView%3ABubbleChart%0ASELECT%20%3FlcountLabel%20%3Flcount%20WHERE%20%7B%0A%7B%0ASELECT%20%3Fcount%20%3FlcountLab%20(COUNT(%3Fcharacter)%20as%20%3Flcount)%20WHERE%20%7B%0A%20%7B%20%0ASELECT%20DISTINCT%20%0A%3Fcharacter%20(COUNT(DISTINCT%20%3Fdictt)%20as%20%3Fcount)%20%20%20WHERE%20%7B%0A%20%20%3Fcharclass%20wdt%3AP361%20wd%3A${ q }%20.%0A%20%20%3Fcharacter%20wdt%3AP31%20%3Fcharclass%20%3B%20wdt%3AP1343%20%3Fdictt%20.%0A%20%20%23%3Fdictt%20rdfs%3Alabel%20%3FdictLabell%20.%0A%20%20%23FILTER(lang(%3FdictLabell)%3D%22en%22)%0A%7D%0AGROUP%20BY%20%3Fcharacter%0A%7D%0A%20%20%20BIND(CONCAT(STR(%3Fcount)%2C%22%20ref(s)%3A%20%22)%20AS%20%3FlcountLab)%0A%7D%20%20GROUP%20BY%20%3Fcount%20%3FlcountLab%0AORDER%20BY%20DESC(%3Fcount)%0A%7D%0ABIND(CONCAT(%3FlcountLab%2CSTR(%3Flcount))%20AS%20%3FlcountLabel)%20%20%0A%7D" referrerpolicy="origin" sandbox="allow-scripts allow-same-origin allow-popups"></iframe></div>
</div>




